!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="9ca570a4-6965-4d02-9710-e902f657b34a",n._sentryDebugIdIdentifier="sentry-dbid-9ca570a4-6965-4d02-9710-e902f657b34a")}catch(n){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9558],{43449:function(n,e,t){t.d(e,{X:function(){return a},_:function(){return u}});var o,i=t(81862),r=t(50853),u=function(n){return new Promise(function(e){return setTimeout(e,n)})},a=(o=(0,i._)(function(n){var e,t,o,i=arguments;return(0,r.Jh)(this,function(r){switch(r.label){case 0:e=i.length>1&&void 0!==i[1]?i[1]:250,t=i.length>2&&void 0!==i[2]?i[2]:null,o=0,r.label=1;case 1:if(!(!n()&&(null===t||o<t)))return[3,3];return[4,u(e)];case 2:return r.sent(),o+=e,[3,1];case 3:return[2]}})}),function(n){return o.apply(this,arguments)})},6505:function(n,e,t){t.d(e,{Bz:function(){return m},CX:function(){return N},F2:function(){return v},SW:function(){return c},VF:function(){return s},cd:function(){return p},dZ:function(){return b},ii:function(){return g},jW:function(){return h},nf:function(){return f},xB:function(){return y}});var o=t(26969),i=t(10457),r=t(82682),u=t(94699),a=t(5270),l=t(13048),d=t(84209),c=function(n){var e=document.createElement("textarea");return e.textContent=n,e.innerHTML},f=function(n){var e=[];return n&&n.forEach&&0!==n.length&&n.forEach(function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)e.push([c(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var t,o,i,r,u,a=[];switch(n.nodeName){case"B":a.push(["font-weight","bold"]);break;case"U":a.push(["text-decoration","underline"]);break;case"I":a.push(["font-style","italic"]);break;case"A":var l=n.href;((null==l?void 0:l.match(/^http(s)?:\/\//))||(null==l?void 0:l.match(/^mailto:/))||(null==l?void 0:l.match(/^tel:/))||(null==l?void 0:l.match(/^sms:/)))&&a.push(["href",l]);break;case"FONT":var d=n.color;(null==d?void 0:d.match(/#[0-9a-fA-F]{3,6}/))&&a.push(["color",d]);break;case"DIV":a.push(["tag","div"]);break;case"P":a.push(["tag","p"]);break;case"BR":a.push(["tag","br"]);break;case"SPAN":a.push(["tag","span"])}var s=n.style;if(((null==s?void 0:null===(t=s.color)||void 0===t?void 0:t.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(o=s.color)||void 0===o?void 0:o.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.color)==="inherit")&&a.push(["color",s.color]),((null==s?void 0:null===(i=s.backgroundColor)||void 0===i?void 0:i.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(r=s.backgroundColor)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.backgroundColor)==="inherit")&&a.push(["background-color",s.backgroundColor]),null==s?void 0:s.fontWeight){var h=null==s?void 0:s.fontWeight;["bolder","lighter"].includes(h)&&(h="bold"),a.push(["font-weight",h])}(null==s?void 0:s.fontStyle)&&a.push(["font-style",s.fontStyle]),(null==s?void 0:s.textDecoration)&&a.push(["text-decoration",s.textDecoration]),(null==s?void 0:s.display)&&a.push(["display",s.display]),"SPAN"===n.nodeName&&(null===(u=n.className)||void 0===u?void 0:u.indexOf("mention"))!==-1&&a.push(["mention",n.dataset.uuid]),a.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?e.push([c(n.childNodes[0].textContent),a]):"BR"===n.nodeName?e.push(["",a]):e.push([f(n.childNodes),a]))}}),e},s=function(n,e,t){return n&&0!==n.length&&0!==e.length?n.map(function(n){var i=(0,o._)(n,2),r=i[0],u=i[1],a=!1,l=null==u?void 0:u.filter(function(n){var i=(0,o._)(n,2),r=i[0],u=i[1];if("mention"===r){var l=e.find(function(n){return n.uuid===u});if(!l||void 0===t.find(function(n){return n.uuid===l.field.uuid}))return a=!0,!1}return!0});return a?["",l]:["string"==typeof r?r:s(r,e,t),u]}):n},h=function(n){var e=document.createElement("div");return e.innerHTML=n,(0,i.Du)(f(e.childNodes))},v=function(n,e,t,o){if("undefined"==typeof document)return"";var r=(0,i.Du)(n.safeHTMLSchema);r=r.replace(/\u200B/g,"");var a=document.createElement("div");a.innerHTML=r;var l=!0,c=!1,f=void 0;try{for(var s,h=n.mentions[Symbol.iterator]();!(l=(s=h.next()).done);l=!0)!function(){var n,r,l,c=s.value,f=c.uuid,h=c.field,v=c.defaultValue,m=a.querySelectorAll('[data-uuid="'.concat(f,'"]'));if(0!==m.length){var p=h.uuid,b=h.type,y=h.questionType,N=h.blockGroupUuid,g=h.calculatedFieldType,T="";b===i.fS.Metadata?T=o[p]:b===i.fS.InputField&&y&&N?T=y===i.kH.InputDate?null!==(n=t[N])&&void 0!==n?n:"":(0,d.Ee)(y,t[N],e):[i.fS.CalculatedField,i.fS.HiddenField].includes(b)&&p&&N&&(T=(null===(r=t[N])||void 0===r?void 0:r[p])?t[N][p]:""),b===i.fS.CalculatedField&&g===i.ot.Number&&"number"==typeof T&&(T=(0,i.AK)(T,2)),h.questionType===i.kH.Matrix&&(T=(null!==(l=t[h.blockGroupUuid][h.uuid])&&void 0!==l?l:[]).map(function(n){return(0,u.u)(n,e)}).join(",")),(a.textContent.startsWith("http")||a.textContent.startsWith("www."))&&!("string"==typeof T&&-1!==T.indexOf("/"))&&(T=encodeURIComponent(T)),m.forEach(function(n){n.innerHTML=(null==T?void 0:T.toString())||v||""})}}()}catch(n){c=!0,f=n}finally{try{l||null==h.return||h.return()}finally{if(c)throw f}}return(0,i.A9)(a.textContent,!0)},m=function(n){return!(n&&Array.isArray(null==n?void 0:n.safeHTMLSchema))||0===(0,i.Vt)((0,i.Du)(n.safeHTMLSchema)).length},p=function(){var n=document.createElement("div");return n.innerHTML="Tally Forms",{safeHTMLSchema:f(n.childNodes),mentions:[]}},b=function(n){var e=T("Form name",(0,l.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),t=e.mentionObj,o=e.mentionHtml,i=document.createElement("div");return i.innerHTML="New Tally Form Submission for ".concat(o),{safeHTMLSchema:f(i.childNodes),mentions:[t]}},y=function(n){var e=[],t=(0,l.VN)(n),o="",r=!0,u=!1,a=void 0;try{for(var d,c=t[Symbol.iterator]();!(r=(d=c.next()).done);r=!0){var s=d.value,h=T(s.title,s),v=h.mentionObj,m=h.mentionHtml;o+="<div><b>".concat((0,i.oJ)(s.title),"</b></div><div>").concat(m,"</div><br/>"),e.push(v)}}catch(n){u=!0,a=n}finally{try{r||null==c.return||c.return()}finally{if(u)throw a}}var p=document.createElement("div");return p.innerHTML=o,{safeHTMLSchema:f(p.childNodes),mentions:e}},N=function(n){var e=[],t="",o=T("Form name",(0,l.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),r=o.mentionObj,u=o.mentionHtml;t+="<div>New submission for *".concat(u,"*.</div><br/>"),e.push(r);var a=!0,d=!1,c=void 0;try{for(var s,h=(0,l.VN)(n)[Symbol.iterator]();!(a=(s=h.next()).done);a=!0){var v=s.value,m=T(v.title,v),p=m.mentionObj,b=m.mentionHtml;t+="<div>*".concat((0,i.oJ)(v.title),"*: ").concat(b,"</div>"),e.push(p)}}catch(n){d=!0,c=n}finally{try{a||null==h.return||h.return()}finally{if(d)throw c}}var y=document.createElement("div");return y.innerHTML=t,{safeHTMLSchema:f(y.childNodes),mentions:e}},g=function(n){var e=T(n.title,n),t=e.mentionObj,o=e.mentionHtml,i=document.createElement("div");return i.innerHTML=o,{safeHTMLSchema:f(i.childNodes),mentions:[t]}},T=function(n,e){var t=(0,r.Z)();return{mentionObj:{uuid:t,field:e},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(t,'">@').concat((0,i.oJ)(n),"</span>").concat((0,a.G6)()?"â€‹":"")}}}}]);
//# sourceMappingURL=9558-6073cb40b660dc7d.js.map