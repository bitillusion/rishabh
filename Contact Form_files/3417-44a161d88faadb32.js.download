!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="92823dc0-6c65-47b2-bdef-983b11b70016",n._sentryDebugIdIdentifier="sentry-dbid-92823dc0-6c65-47b2-bdef-983b11b70016")}catch(n){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3417],{6736:function(n,e,t){t.d(e,{K:function(){return o}});var r=t(1322),u=t(62589),o=function(n){return"string"==typeof n&&(0,r.Z)(n)&&4===(0,u.Z)(n)}},58439:function(n,e,t){var r,u,o,i,l,a,d,c,f,s,p,v;t.d(e,{CB:function(){return l},Km:function(){return a},Us:function(){return r},cX:function(){return o},wx:function(){return i}}),(d=r||(r={})).Insert="FormBuilder.Insert",d.Replace="FormBuilder.Replace",d.ReplaceAll="FormBuilder.ReplaceAll",d.Remove="FormBuilder.Remove",d.Move="FormBuilder.Move",d.CreateColumnList="FormBuilder.CreateColumnList",d.CreateColumn="FormBuilder.CreateColumn",d.AddToColumn="FormBuilder.AddToColumn",d.DetachFromColumn="FormBuilder.DetachFromColumn",d.UpdateColumnRatio="FormBuilder.UpdateColumnRatio",d.UpdateValue="FormBuilder.UpdateValue",d.UpdatePayload="FormBuilder.UpdatePayload",d.Refresh="FormBuilder.Refresh",d.RefreshAll="FormBuilder.RefreshAll",d.UpdateFormSettings="FormBuilder.UpdateFormSettings",d.OpenInsertBlockMenu="FormBuilder.OpenInsertBlockMenu",d.OpenBlockSettingsContextMenu="FormBuilder.OpenBlockSettingsContextMenu",d.OpenBlockActionsContextMenu="FormBuilder.OpenBlockActionsContextMenu",d.OpenTextFormatContextMenu="FormBuilder.OpenTextFormatContextMenu",d.OpenAuthMenu="FormBuilder.OpenAuthMenu",d.OpenUpgradePlanMenu="FormBuilder.OpenUpgradePlanMenu",d.OpenMentionMenu="FormBuilder.OpenMentionMenu",d.OpenMentionSettingsMenu="FormBuilder.OpenMentionSettingsMenu",d.InsertMention="FormBuilder.InsertMention",d.RemoveMention="FormBuilder.RemoveMention",d.UpdateMention="FormBuilder.UpdateMention",d.UpdateConditionals="FormBuilder.UpdateConditionals",d.UpdateConditionalActions="FormBuilder.UpdateConditionalAction",d.UpdateCalculatedFields="FormBuilder.UpdateCalculatedFields",d.UpdateHiddenFields="FormBuilder.UpdateHiddenFields",d.OpenCommandsMenu="FormBuilder.OpenCommandsMenu",d.OpenBulkInsertOptionsMenu="FormBuilder.OpenBulkInsertOptionsMenu",d.Undo="FormBuilder.Undo",d.Redo="FormBuilder.Redo",d.AddTitle="FormBuilder.AddTitle",(c=u||(u={})).Question="QUESTION",c.Field="FIELD",c.Layout="LAYOUT",(f=o||(o={})).Upload="UPLOAD",f.Link="LINK",f.Unsplash="UNSPLASH",f.Gallery="GALLERY",(s=i||(i={})).Start="START",s.End="END",s.Inherit="INHERIT",(p=l||(l={})).SignUp="SIGN_UP",p.Publish="PUBLISH",p.PaymentBlock="PAYMENT_BLOCK",p.UpgradePlan="UPGRADE_PLAN",(v=a||(a={})).AddLink="ADD_LINK",v.ApplyLastTextColor="APPLY_LAST_TEXT_COLOR"},9481:function(n,e,t){var r,u;t.d(e,{Y:function(){return r}}),(u=r||(r={})).Block="BLOCK",u.ColumnList="COLUMN_LIST",u.Column="COLUMN",u.Matrix="MATRIX"},65555:function(n,e,t){t.d(e,{Z9:function(){return f},bl:function(){return p},jZ:function(){return s},vk:function(){return g},xo:function(){return c}});var r=t(85333),u=t(6692),o=t(10457),i=t(30446),l=t.n(i),a=t(9481),d=t(88100),c=function(n){var e=[],t=[],i=[],l=[];return n.forEach(function(c,f){if(c.groupType===o.kH.Matrix&&n.filter(function(n){return n.groupUuid===c.groupUuid&&n.type===o.kH.MatrixRow}).length>0){if(t.includes(c.groupUuid))return;t.push(c.groupUuid);var s=f+1,p=n.filter(function(n){return n.groupUuid===c.groupUuid&&n.type===o.kH.MatrixColumn}).map(function(n){return{uuid:n.uuid,type:a.Y.Block,block:n,index:s++}}),v=n.filter(function(n){return n.groupUuid===c.groupUuid&&n.type===o.kH.MatrixRow}).map(function(n){return{uuid:n.uuid,type:a.Y.Block,block:n,index:s++}});e.push({uuid:c.groupUuid,type:a.Y.Matrix,table:{uuid:c.uuid,type:a.Y.Block,block:(0,u._)((0,r._)({},c),{payload:(0,u._)((0,r._)({},c.payload),{html:""})}),index:f},columns:p,rows:v});return}if(!c.payload.columnListUuid){e.push({uuid:c.uuid,type:a.Y.Block,block:c,index:f});return}if(!i.includes(c.payload.columnListUuid)){i.push(c.payload.columnListUuid);var y=n.filter(function(n){return n.payload.columnListUuid===c.payload.columnListUuid}),g={uuid:c.payload.columnListUuid,type:a.Y.ColumnList,columns:[]};y.forEach(function(n,e){if(!l.includes(n.payload.columnUuid)){l.push(n.payload.columnUuid);var t={uuid:n.payload.columnUuid,type:a.Y.Column,ratio:n.payload.columnRatio,blocks:[]};t.blocks=y.filter(function(n){return n.payload.columnUuid===t.uuid}).map(function(n,t){return{uuid:n.uuid,type:a.Y.Block,block:n,index:f+e+t}}),t.firstBlock=t.blocks[0],t.lastBlock=t.blocks[t.blocks.length-1],g.columns.push(t)}}),(0,d.Vl)(g.columns.map(function(n){return n.ratio}))&&(g.columns=g.columns.map(function(n){return(0,u._)((0,r._)({},n),{flex:1})})),g.firstColumn=g.columns[0],g.lastColumn=g.columns[g.columns.length-1],e.push(g)}}),e},f=function(n,e,t){if(!1===o.z8.includes(n.type))return null;var r,u,i,l,a=n.uuid,d=n.type,c=n.groupUuid,f=n.groupType,s=n.payload,p=(0,o.ZY)(n)?n.value:void 0,g=null!==(i=o.fy[d])&&void 0!==i?i:d,h=null,m=null,k=null,b=null,x=!0,U=!1,B=null!==(l=null==t?void 0:null===(r=t.get(c))||void 0===r?void 0:r.start)&&void 0!==l?l:e.findIndex(function(n){return n.uuid===a}),S=null===(u=e[B])||void 0===u?void 0:u.uuid;if(!1===o.Ko.includes(d)){if(o.we.includes(d)&&(p||s.placeholder)?(k=(0,o.Vt)(null!=p?p:s.placeholder),b=a):d===o.kH.Signature&&s.label?(k=(0,o.Vt)(s.label),b=a):d===o.kH.DropdownOption&&s.placeholder&&(k=(0,o.Vt)(s.placeholder),b=a),null===h){var w=v(B,c,e);h=w.title,m=w.titleBlockUuid,U=w.isFolded,null!==m&&(B=w.titleIndex,S=m)}null===h&&null!==k&&(h=k,m=b),s.name&&(h=s.name)}null!==h&&(x=!1);var N=a;if(f===o.kH.Matrix){var C=e.find(function(n){return n.groupUuid===c&&n.type===o.kH.MatrixColumn&&!0===n.payload.isLast});C&&(N=C.uuid)}var F=y(B,n,e,t),M=F.endBlockUuid,O=F.canBeFolded,A=F.numberOfBlocks;return{type:g,blockGroupUuid:c,title:h||o.d4[g],titleBlockUuid:m,isRequired:s.isRequired,isRequiredBlockUuid:N,isRequiredGroupBlockUuid:c,isUntitled:x,isFolded:U,canBeFolded:O,startBlockUuid:S,endBlockUuid:M,numberOfBlocks:A}},s=function(n){var e=[],t=new Map,r=h(n);return n.forEach(function(u){!1===o.z8.includes(u.type)||e.includes(u.groupUuid)||(t.set(u.groupUuid,f(u,n,r)),e.push(u.groupUuid))}),t},p=function(n){var e=new Map,t=new Map,r=h(n);return n.forEach(function(u){if(!1!==o.z8.includes(u.type)){var i=e.get(u.groupUuid);if(i){t.set(u.uuid,i);return}var l=f(u,n,r);l.titleBlockUuid&&t.set(l.titleBlockUuid,l),t.set(u.uuid,l),e.set(u.groupUuid,l)}}),t},v=function(n,e,t){if(!t[--n])return{title:null,titleBlockUuid:null,isFolded:!1,titleIndex:-1};var r,u,i=t[n],l=(0,o.ZY)(i)?i.value:void 0;return i.groupUuid!==e&&(o.fq.includes(i.type)||o.FW.includes(i.groupType)||i.type===o.kH.PageBreak||i.type===o.kH.Divider)?{title:null,titleBlockUuid:null,isFolded:!1,titleIndex:-1}:o.$5.includes(i.type)?{title:(0,o.Vt)(null!==(r=null!=l?l:i.payload.html)&&void 0!==r?r:""),titleBlockUuid:i.uuid,isFolded:null!==(u=i.payload.isFolded)&&void 0!==u&&u,titleIndex:n}:v(n,e,t)},y=function(n,e,t,r){var u,i,a,d,c=null!==(a=null==r?void 0:null===(u=r.get(e.groupUuid))||void 0===u?void 0:u.end)&&void 0!==a?a:l()(t,function(n){return n.groupUuid===e.groupUuid}),f=null!==(d=null===(i=t[c])||void 0===i?void 0:i.uuid)&&void 0!==d?d:e.uuid,s=c-n+1,p=o.w$.includes(e.groupType);if(!p)return{endBlockUuid:f,canBeFolded:p,numberOfBlocks:s};for(var v=n+1;v<=c;v++){var y=t[v];if(y&&y.groupUuid!==e.groupUuid&&(o.fq.includes(y.type)||o.kH.PageBreak===y.type)){p=!1;break}}return{endBlockUuid:f,canBeFolded:p,numberOfBlocks:s}},g=function(n,e){if(e[++n]){var t=e[n];return o.$5.includes(t.type)||t.type===o.kH.PageBreak||t.type===o.kH.Divider?void 0:o.Ig.includes(t.type)?t.groupUuid:g(n,e)}},h=function(n){var e=new Map;return n.forEach(function(n,t){var r=n.groupUuid,u=e.get(r);u?e.set(r,{start:u.start,end:t}):e.set(r,{start:t,end:t})}),e}},3124:function(n,e,t){t.d(e,{SL:function(){return c},Yq:function(){return p},_5:function(){return f},_L:function(){return a},_c:function(){return v},iu:function(){return s},sw:function(){return d}});var r=t(10457),u=t(2689),o=t.n(u),i=t(58439),l=t(9909),a=function(n,e){return!!e&&!!e.isRequired&&(null==e?void 0:e.isRequired)&&(e.titleBlockUuid===n||!e.titleBlockUuid&&e.isRequiredBlockUuid===n)},d=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],u=!1,o=!0,i=!1,l=void 0;try{for(var a,d=n[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var c=a.value;if(u||c.uuid===e)u=!0;else{r.push(c);continue}if(u&&t.includes(c.type)){r.push(c);continue}}}catch(n){i=!0,l=n}finally{try{o||null==d.return||d.return()}finally{if(i)throw l}}return r},c=function(n,e){if(!r.LQ.includes(n.type))return!1;var t=e.find(function(e){return e.groupUuid===n.blockGroupUuid});return!t||t.type!==r.kH.MultipleChoiceOption&&t.type!==r.kH.Dropdown||!t.payload.allowMultiple},f=function(n,e){return p(n)||r.kH.Matrix===n.type||(null==e?void 0:e.includeQuestions)&&r.$5.includes(n.type)},s=function(n,e,t){var r=[];return f(n,t)&&(r=o()((0,l.ob)(e.startBlockUuid)+1,(0,l.ob)(e.endBlockUuid)+1)),r},p=function(n){return n.payload.isFolded&&r.$5.includes(n.type)},v=function(n,e){return r.H.includes(n)&&[i.Us.CreateColumnList,i.Us.CreateColumn,i.Us.AddToColumn].includes(e)}},94699:function(n,e,t){t.d(e,{p:function(){return o},u:function(){return u}});var r=t(10457),u=function(n,e){var t=e.find(function(e){return e.uuid===n});return t?(0,r.ZY)(t)?(0,r.CL)((0,r.Vt)(t.value)):(0,r.Vt)((0,r.Du)(t.payload.safeHTMLSchema)):""},o=function(n){if(!n||0===n.length)return[];var e,t=n[0].payload;if(!t.randomize)return[];var r=null!==(e=t.lockInPlace)&&void 0!==e?e:[],u=[];return n.forEach(function(n){r.includes(n.uuid)?u.push(n.uuid):n.payload.isOtherOption&&u.push(n.uuid)}),u}},75700:function(n,e,t){t.d(e,{$Q:function(){return v},DM:function(){return a},UZ:function(){return s},V3:function(){return l},VY:function(){return d},X4:function(){return p},YB:function(){return f},YQ:function(){return h},fG:function(){return c},vE:function(){return i},xQ:function(){return y},yj:function(){return g}});var r=t(55161),u=t(1547),o={},i={red:r.B3.redDark2,orange:r.B3.orangeDark2,yellow:r.B3.yellowDark2,green:r.B3.greenDark2,blue:r.B3.blueDark2,purple:r.B3.purpleDark2,pink:r.B3.pinkDark2,gray:r.B3.text},l={gray:r.B3.grayBackground,red:r.B3.redLight2,orange:r.B3.orangeLight2,yellow:r.B3.yellowLight1,green:r.B3.greenLight2,blue:r.B3.blueLight2,purple:r.B3.purpleLight2,pink:r.B3.pinkLight2},a={gray:r.B3.grayBackground,red:r.B3.redLight1,orange:r.B3.orangeLight1,yellow:r.B3.yellowLight1,green:r.B3.greenLight1,blue:r.B3.blueLight1,purple:r.B3.purpleLight1,pink:r.B3.pinkLight1},d={gray:r.B3.gray,red:r.B3.red,orange:r.B3.orange,yellow:r.B3.yellowDark1,green:r.B3.green,blue:r.B3.blue,purple:r.B3.purple,pink:r.B3.pink},c=function(n,e){var t="".concat(n,"_").concat(e);if(o[t])return o[t];var r=(0,u.Z)(n).setAlpha(e).toRgbString();return o[t]=r,r},f=function(n){return"".concat((0,u.Z)(n).setAlpha(.12).toRgbString(),"  0px 1px 1px 0px, ").concat((0,u.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px, ").concat((0,u.Z)(n).setAlpha(.08).toRgbString()," 0px 2px 5px 0px")},s=function(n){return"".concat((0,u.Z)(n).setAlpha(.12).toRgbString()," 0px 1px 1px 0px, ").concat((0,u.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px,").concat((0,u.Z)(n).setAlpha(.08).toRgbString()," 0px 3px 9px 0px, ").concat((0,u.Z)(n).setAlpha(.08).toRgbString()," 0px 2px 5px 0px")},p=function(n){return"".concat(n," 0px 0px 0px 2px, ").concat((0,u.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px")},v=function(n){return"".concat((0,u.Z)(n).setAlpha(.36).toRgbString()," 0px 0px 0px 4px, ").concat((0,u.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px")},y=function(n){return"".concat((0,u.Z)(n).setAlpha(.36).toRgbString()," 0px 0px 0px 4px, ").concat(n," 0px 0px 0px 2px")},g=function(n){var e=Object.keys(i);return e[n%e.length]},h=function(n,e){return!!n&&!!e&&(0,u.Z)(n).toHex()===(0,u.Z)(e).toHex()}},88100:function(n,e,t){t.d(e,{A9:function(){return o},Cz:function(){return l},NP:function(){return i},Vl:function(){return a}});var r=t(26969),u=t(44822),o=10,i=7,l=function(n){var e=new Map(n),t=e.size,i=0,l=0;if(e.forEach(function(n){i+=n,l+=0===n?1:0}),l>0){var a=Math.round(100/t),d=a*l,c=t-l;(0,u._)(e).sort(function(n,e){return n[1]-e[1]}).forEach(function(n){var t=(0,r._)(n,2),u=t[0],l=t[1];if(0===l)e.set(u,a),i+=a;else{var f=Math.round(d/c),s=Math.round(l-f);s>=o?(e.set(u,s),i-=f,d-=f):(e.set(u,o),i-=l-o,d-=l-o),c--}})}if(i<100){var f=Math.round((100-i)/t);e.forEach(function(n,t){e.set(t,n+f),i+=f})}if(100!==i){var s=100-i;(0,u._)(e).sort(function(n,e){return s>0?n[1]-e[1]:e[1]-n[1]}).forEach(function(n){var t=(0,r._)(n,2),u=t[0],o=t[1];if(0!==s){var l=s>0?1:-1;e.set(u,o+l),i+=l,s-=l}})}return e},a=function(n){var e=100/n.length;return n.every(function(n){return 1>=Math.abs(n-e)})}},9909:function(n,e,t){t.d(e,{A9:function(){return _},AU:function(){return H},C_:function(){return b},F7:function(){return w},FD:function(){return y},FF:function(){return x},Fz:function(){return B},KH:function(){return h},KS:function(){return p},M3:function(){return U},NJ:function(){return s},QO:function(){return T},Qe:function(){return F},Tp:function(){return k},Xm:function(){return E},ZD:function(){return g},bI:function(){return R},bc:function(){return D},cj:function(){return m},df:function(){return d},e7:function(){return j},gZ:function(){return N},ld:function(){return Z},ly:function(){return v},mh:function(){return L},ob:function(){return S},qX:function(){return C},rh:function(){return A},uN:function(){return I},w3:function(){return q},xs:function(){return c},yG:function(){return a},zM:function(){return P}});var r=t(10457),u=t(56974),o=t.n(u),i=t(87654),l=t(39707),a=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.innerHTML=e,t&&n.focus()},d=function(n){return n.forEach(function(e,t){var r;e.nodeType===Node.ELEMENT_NODE&&(0===e.childNodes.length||(null===(r=e.textContent)||void 0===r?void 0:r.length)===0)&&n.item(t).remove(),e.nodeType===Node.ELEMENT_NODE&&e.childNodes.length>0&&d(e.childNodes)}),n},c=function(n){var e="";return n.forEach(function(n){e+=n.nodeType===Node.TEXT_NODE?n.textContent:n.outerHTML}),e},f=function(n){return Array.from(n.childNodes).filter(function(n){return!(n.nodeType===Node.TEXT_NODE&&""===n.textContent)})},s=function(n){for(var e=function(n){return f(n)[0]||null},t=e(n);t&&e(t);)t=e(t);return t},p=function(n){for(var e=function(n){return o()(f(n))||null},t=e(n);t&&e(t);)t=e(t);return t},v=function(n){var e,t;return n.nodeType===Node.ELEMENT_NODE?e=n.closest("[contenteditable]"):e=null===(t=n.parentElement)||void 0===t?void 0:t.closest("[contenteditable]"),(null==e?void 0:e.getAttribute("contenteditable"))==="true"},y=function(n){var e=n.nodeType===Node.ELEMENT_NODE?n:n.parentElement;if(!e)return null;for(var t=e.nextSibling,r=e.previousSibling,u=!0;u;){if(t&&v(t))return t;if(t&&(t=t.nextSibling),r&&v(r))return r;r&&(r=r.previousSibling),t||r||(u=!1)}return null},g=function(n,e){var t,r=document.elementFromPoint(n,e);if(!r)return null;var u=r.childNodes;if(0===u.length)return r;var o=r.querySelector(".content-editable-block");o&&(u=o.childNodes);for(var i=[],l=0;l<u.length;l++){var a=document.createRange();a.selectNode(u[l]);for(var d=a.getClientRects(),c=0;c<d.length;c++){var f=d[c];if(e===f.top&&i.push(u[l]),n>=f.left&&n<=f.right&&e>=f.top&&e<=f.bottom){t=u[l];break}}if(t)break}return!t&&i.length>0?i.pop():t||r},h=function(n,e,t){var r=n.parentElement&&"rtl"===getComputedStyle(n.parentElement).direction,u=!1,o=0;try{for(;!u;){var i=document.createRange();i.setStart(n,o);var a=(0,l.N7)(i),d=a.x,c=a.y;if(t===c&&(!r&&e<=d||r&&e>=d)){u=!0;continue}o++}}catch(n){o=o>0?o-1:0}return o},m=function(){return"undefined"==typeof document?[]:Array.from(document.querySelectorAll(".content-editable-block"))},k=function(n){return"undefined"==typeof document?null:document.getElementById(n)},b=function(n){var e;return null!==(e=m()[n])&&void 0!==e?e:null},x=function(n){var e=n-2,t=b(n),r=Y(),u=r.findIndex(function(n){return n.dataset.blockUuid===(null==t?void 0:t.id)});if(-1===u){var o=K(n);if(-1===(u=r.findIndex(function(n){return n.dataset.blockGroupUuid===o})))return e}var i=r[u-2];return i?e=S(i.dataset.blockUuid):e},U=function(n){var e=n+1,t=b(n),r=Y(),u=r.findIndex(function(n){return n.dataset.blockUuid===(null==t?void 0:t.id)});if(-1===u){var o=K(n);if(-1===(u=r.findIndex(function(n){return n.dataset.blockGroupUuid===o})))return e}var i=r[u+1];return i?e=S(i.dataset.blockUuid):e},B=function(n){var e,t;return null!==(t=null===(e=k(n))||void 0===e?void 0:e.innerHTML)&&void 0!==t?t:""},S=function(n){var e=k(n);return e?m().indexOf(e):-1},w=function(n){var e=b(n);if(!e)return null;var t=e.closest(".tally-block");if(!t)return null;var r=Array.from(t.classList).find(function(n){return -1!==n.indexOf("tally-block-")});return r?G(r):null},N=function(n){if(n.nodeType===Node.ELEMENT_NODE&&(null===(e=n.className)||void 0===e?void 0:e.indexOf("content-editable-block"))!==-1)return n;var e,t,r=n.parentElement;return r?r.nodeType===Node.ELEMENT_NODE&&(null===(t=r.className)||void 0===t?void 0:t.indexOf("content-editable-block"))!==-1?r:r.closest(".content-editable-block"):null},C=function(n){if(!n)return -1;if(n.className&&n.className.indexOf&&-1!==n.className.indexOf("content-editable-block"))return m().indexOf(n);var e=n.closest(".block-container");if(!e)return -1;var t=e.querySelector(".content-editable-block");return t?m().indexOf(t):-1},F=function(){return"undefined"!=typeof document&&document.activeElement&&-1!==document.activeElement.className.indexOf("content-editable-block")?document.activeElement:null},M=function(){if("undefined"==typeof document)return null;var n=document.querySelector(".tally-block:hover");return n?n.querySelector(".content-editable-block"):null},O=function(){var n=F();return n?n.getAttribute("id"):null},A=function(){var n=O();return n?B(n):""},E=function(){var n=F();return n?m().indexOf(n):-1},T=function(){var n=M();return n?m().indexOf(n):-1},H=function(n){var e=F();if(e){var t=(0,l.Ct)(),r=t.x,u=t.y;a(e,n);var o=g(r,u);if(o){var i=h(o,r,u);(0,l.KJ)(o,i)}}},_=function(n){for(var e=m().splice(0,n).reverse(),t=-1;e.length>0&&t<0;){var r=e.shift();n--,"true"===r.getAttribute("contenteditable")&&"false"===r.dataset.isFolded&&(t=n)}return t},R=function(n){for(var e=m().splice(n+1),t=-1;e.length>0&&t<0;){var r=e.shift();n++,"true"===r.getAttribute("contenteditable")&&"false"===r.dataset.isFolded&&(t=n)}return t},L=function(n){for(var e=m().splice(0,n).reverse(),t=-1;e.length>0&&t<0;){var r=e.shift();n--,"true"===r.dataset.isSelectable&&"false"===r.dataset.isFolded&&(t=n)}return t},I=function(n){for(var e=m().splice(n+1),t=-1;e.length>0&&t<0;){var r=e.shift();n++,"true"===r.dataset.isSelectable&&"false"===r.dataset.isFolded&&(t=n)}return t},D=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){if(t){if(a(t,n,e.focus),e.focus){var r=t.closest(".block-container");if(!r)return;var u=r.getBoundingClientRect(),o=u.top,i=u.bottom,d=u.height;o>=0&&i<=window.innerHeight-200||window.scrollTo(0,document.documentElement.scrollTop+d)}if(e.cursor){var c=g(e.cursor.x,e.cursor.y);c&&(0,l.KJ)(c,h(c,e.cursor.x,e.cursor.y))}}}},q=function(){return function(n){if(n){var e,t;null===(t=n.closest(".block-container"))||void 0===t||null===(e=t.querySelector(".add-container"))||void 0===e||e.click()}}},Z=function(n){return function(e){e&&a(e,n)}},P=function(n,e){var t,r=n?k(n):F();if(!r)return{top:0,bottom:0,left:0,right:0};var u=r.closest(".block-container");if(!u)return{top:0,bottom:0,left:0,right:0};var o=null!==(t=u.querySelector(".".concat(e)))&&void 0!==t?t:u;return{top:o.getBoundingClientRect().bottom+5+(0,i.sw)(),bottom:window.innerHeight-o.getBoundingClientRect().top-(0,i.sw)()+5,left:o.getBoundingClientRect().left+window.pageXOffset,right:window.innerWidth-o.getBoundingClientRect().right-window.pageXOffset}},G=function(n){return n.replace("tally-block-","").replace(/-/g,"_").toUpperCase()},K=function(n){var e=b(n);if(!e)return null;var t=e.closest(".tally-block");if(!t)return null;var r=Array.from(t.classList).find(function(n){return -1!==n.indexOf("tally-block-group-")});return r?r.replace("tally-block-group-",""):null},j=function(){return null!==document.querySelector(".tally-context-menu-overlay")},Y=function(){return Array.from(document.querySelectorAll('.move-dropzone[data-style="block"]')).filter(function(n){return!1===[r.kH.MatrixColumn,r.kH.MatrixRow].includes(n.dataset.blockType)})}},13048:function(n,e,t){t.d(e,{In:function(){return c},VN:function(){return f},WW:function(){return d},cO:function(){return v},dV:function(){return p},m8:function(){return s}});var r=t(44822),u=t(10457),o=t(82682),i=t(3124),l=t(65555),a=t(94699),d=function(){return{uuid:(0,o.Z)()}},c=function(){return{uuid:(0,o.Z)()}},f=function(n,e){var t=[],o=[],d=(0,r._)(n);return(null==e?void 0:e.beforeBlockUuid)&&(n=(0,i.sw)(n,e.beforeBlockUuid,null==e?void 0:e.alwaysIncludeBlockTypes)),(null==e?void 0:e.filterOutBlockTypes)&&e.filterOutBlockTypes.length>0&&(n=n.filter(function(n){var t=n.type;return!1===e.filterOutBlockTypes.includes(t)})),(null==e?void 0:e.includeMetadata)?(t.push({uuid:"id",type:u.fS.Metadata,questionType:u.kH.FormTitle,blockGroupUuid:"id",title:"id"}),t.push({uuid:"respondentId",type:u.fS.Metadata,questionType:u.kH.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"}),t.push({uuid:"formName",type:u.fS.Metadata,questionType:u.kH.FormTitle,blockGroupUuid:"formName",title:"formName"})):(null==e?void 0:e.includeRespondentMetadata)&&(t.push({uuid:"ipAddress",type:u.fS.Metadata,questionType:u.kH.FormTitle,blockGroupUuid:"ipAddress",title:"ipAddress"}),t.push({uuid:"respondentId",type:u.fS.Metadata,questionType:u.kH.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"})),n.forEach(function(r){if(!o.includes(r.groupUuid)){if(r.type===u.kH.CalculatedFields)r.payload.calculatedFields.filter(function(n){return n.name&&n.type}).forEach(function(n){t.push({uuid:n.uuid,type:u.fS.CalculatedField,questionType:u.kH.CalculatedFields,blockGroupUuid:r.groupUuid,title:n.name||"",calculatedFieldType:n.type})});else if((0,u.rb)(r))r.payload.hiddenFields.forEach(function(n){t.push({uuid:n.uuid,type:u.fS.HiddenField,questionType:u.kH.HiddenFields,blockGroupUuid:r.groupUuid,title:n.name||""})});else if(r.type!==u.kH.Matrix||(null==e?void 0:e.combineMatrix)){var i=(0,l.Z9)(r,d);i&&t.push({uuid:i.blockGroupUuid,type:u.fS.InputField,questionType:i.type,blockGroupUuid:i.blockGroupUuid,title:(0,u.CL)(i.title||"")})}else{var c=n.filter(function(n){return n.groupUuid===r.groupUuid&&n.type===u.kH.MatrixRow}),f=(0,l.Z9)(r,d);c.forEach(function(n){var e=(0,a.u)(n.uuid,d);f&&f.title&&f.title!==u.d4[u.kH.Matrix]&&(e="".concat(f.title," [").concat(e,"]")),t.push({uuid:n.uuid,type:u.fS.InputField,questionType:u.kH.Matrix,blockGroupUuid:n.groupUuid,title:e})})}o.push(r.groupUuid)}}),t},s=function(n,e){var t=n.title;return n.type===u.fS.Metadata&&(t=e("form-builder.mention-menu.metadata.".concat(n.uuid))),t},p=function(n,e,t){var r=!1,o=!0,i=!1,l=void 0;try{for(var a,d,c=(null!==(a=n.conditionals)&&void 0!==a?a:[])[Symbol.iterator]();!(o=(d=c.next()).done);o=!0){var f,s,v,y,g,h=d.value;if((null===(s=h.payload)||void 0===s?void 0:null===(f=s.field)||void 0===f?void 0:f.blockGroupUuid)&&t.includes(h.payload.field.blockGroupUuid)||(null===(y=h.payload)||void 0===y?void 0:null===(v=y.value)||void 0===v?void 0:v.blockGroupUuid)&&t.includes(h.payload.value.blockGroupUuid)||h.type===u.Rp.Group&&(null===(g=h.payload)||void 0===g?void 0:g.conditionals)&&(r=p(h.payload,e,t)))return!0}}catch(n){i=!0,l=n}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}var m=!0,k=!1,b=void 0;try{for(var x,U,B=(null!==(x=n.actions)&&void 0!==x?x:[])[Symbol.iterator]();!(m=(U=B.next()).done);m=!0){var S,w,N,C,F,M,O,A,E,T,H,_=U.value;if((null===(S=_.payload)||void 0===S?void 0:S.requireAnswer)&&t.includes(_.payload.requireAnswer)||(null===(C=_.payload)||void 0===C?void 0:null===(N=C.calculate)||void 0===N?void 0:null===(w=N.field)||void 0===w?void 0:w.blockGroupUuid)&&t.includes(_.payload.calculate.field.blockGroupUuid))return!0;if((null===(O=_.payload)||void 0===O?void 0:null===(M=O.calculate)||void 0===M?void 0:null===(F=M.value)||void 0===F?void 0:F.blockGroupUuid)&&t.includes(_.payload.calculate.value.blockGroupUuid))return!0;if((null===(A=_.payload)||void 0===A?void 0:A.showBlocks)&&_.payload.showBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(E=_.payload)||void 0===E?void 0:E.hideBlocks)&&_.payload.hideBlocks.some(function(n){return n===e.uuid}))return!0;else if((null===(T=_.payload)||void 0===T?void 0:T.jumpToPage)===e.uuid||(null===(H=_.payload)||void 0===H?void 0:H.jumpToPage)&&e.type===u.kH.PageBreak)return!0}}catch(n){k=!0,b=n}finally{try{m||null==B.return||B.return()}finally{if(k)throw b}}return r},v=function(n,e){var t=!0,r=!1,u=void 0;try{for(var o,i=n.calculatedFields[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l,a=o.value;if((null===(l=a.value)||void 0===l?void 0:l.blockGroupUuid)&&e.includes(a.value.blockGroupUuid))return!0}}catch(n){r=!0,u=n}finally{try{t||null==i.return||i.return()}finally{if(r)throw u}}return!1}},39707:function(n,e,t){t.d(e,{B4:function(){return b},Ct:function(){return s},G0:function(){return p},JA:function(){return k},KJ:function(){return o},N7:function(){return f},NZ:function(){return c},RN:function(){return h},ct:function(){return v},fI:function(){return d},iD:function(){return x},kL:function(){return g},lT:function(){return m},oR:function(){return i},sg:function(){return a},ut:function(){return l},yZ:function(){return y}});var r=t(58439),u=t(9909),o=function(n,e){try{var t=document.createRange();t.setStart(n,e);var r=window.getSelection();null==r||r.removeAllRanges(),null==r||r.addRange(t)}catch(n){}},i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",t=window.getSelection();try{if(t&&t.rangeCount>0&&t.focusNode){var r=t.getRangeAt(0).cloneRange();r.collapse(!0),r.setStart(t.focusNode,0);var u=r.toString();e=u.charAt(u.length-n)}}catch(n){}return e},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",t=window.getSelection();try{if(t&&t.rangeCount>0&&t.focusNode){var r=t.getRangeAt(0).cloneRange();r.collapse(!0),r.setEnd(t.focusNode,t.focusOffset+n),e=r.toString().charAt(n-1)}}catch(n){}return e},a=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?n.focusOffset:0},d=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?n.focusNode:null},c=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?[n.focusNode,n.focusOffset]:[null,0]},f=function(n){try{var e=n.getClientRects();if(n.collapsed&&n.startContainer&&n.startContainer.nodeType===Node.ELEMENT_NODE&&(0===n.startContainer.childNodes.length||0===e.length)){var t=n.startContainer,r="rtl"===getComputedStyle(t).direction,u=n.startContainer.getBoundingClientRect();return{x:r?u.right:u.x,y:u.y}}if(0===e.length)return{x:0,y:0};var o=e[0],i=o.x,l=o.y;return{x:i,y:l}}catch(n){return{x:0,y:0}}},s=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?f(n.getRangeAt(0)):{x:0,y:0}},p=function(){var n=window.getSelection();return!!(n&&n.rangeCount&&n.focusNode&&(0,u.gZ)(n.focusNode))},v=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode||n.anchorOffset!==n.focusOffset)return!1;var e=(0,u.gZ)(n.focusNode);if(!e)return!1;if(n.focusNode===e&&0===n.focusOffset)return!0;var t=(0,u.NJ)(e);return!!(n.focusNode===t&&0===n.focusOffset||n.focusNode.nodeType===Node.ELEMENT_NODE&&n.focusNode.contains(t)&&0===n.focusOffset)},y=function(){var n,e=window.getSelection();if(!e||!e.rangeCount||!e.focusNode||e.anchorOffset!==e.focusOffset)return!1;var t=(0,u.gZ)(e.focusNode);if(!t)return!1;if(e.focusNode===t)return!0;var r=(0,u.KS)(t);return!!(e.focusNode===r&&e.focusOffset===(null===(n=e.focusNode.textContent)||void 0===n?void 0:n.length)||e.focusNode.nodeType===Node.ELEMENT_NODE&&e.focusNode.contains(r)&&e.focusOffset===e.focusNode.childNodes.length)},g=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode)return!1;var e=(0,u.gZ)(n.focusNode);if(!e)return!1;if(n.focusNode===e)return!0;var t=(0,u.NJ)(e);if(!t)return!0;var r=document.createRange();return r.setStart(t,0),s().y===f(r).y},h=function(){var n,e,t=window.getSelection();if(!t||!t.rangeCount||!t.focusNode)return!1;var r=(0,u.gZ)(t.focusNode);if(!r)return!1;if(t.focusNode===r)return!0;var o=(0,u.KS)(r);if(!o)return!0;var i=document.createRange();return i.setStart(o,null!==(e=null===(n=o.textContent)||void 0===n?void 0:n.length)&&void 0!==e?e:0),s().y===f(i).y},m=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.wx.Start,t=(0,u.C_)(n);if(t){if(e===r.wx.Start){t.focus();return}if(e===r.wx.End){var i,l,a=(0,u.KS)(t);if(!a){t.focus();return}o(a,null!==(l=null===(i=a.textContent)||void 0===i?void 0:i.length)&&void 0!==l?l:0);return}if(e===r.wx.Inherit){var d,c,p=n>(0,u.Xm)(),v=p?(0,u.NJ)(t):(0,u.KS)(t);if(!v){t.focus();return}var y=s().x,g=document.createRange();g.setStart(v,p?0:null!==(c=null===(d=v.textContent)||void 0===d?void 0:d.length)&&void 0!==c?c:0);var h=f(g).y,k=(0,u.ZD)(y,h);if(!k){t.focus();return}if(!1===t.contains(k)){m(n,r.wx.End);return}if(!1===(0,u.ly)(k)){var b=(0,u.FD)(k);if(b){o(b,0);return}o(t,1);return}var x=(0,u.KH)(k,y,h);o(k,x);return}}},k=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode)return["",""];var e=(0,u.gZ)(n.focusNode);if(!e)return["",""];var t=document.createRange();t.setStart(e,0),t.setEnd(n.focusNode,n.focusOffset);var r=(0,u.xs)((0,u.df)(t.cloneContents().childNodes)),o=document.createRange();return o.selectNodeContents(e),o.collapse(!1),o.setStart(n.focusNode,n.focusOffset),[r,(0,u.xs)((0,u.df)(o.cloneContents().childNodes))]},b=function(n,e){document.querySelectorAll(".mention").forEach(function(n){return n.setAttribute("contenteditable","true")}),document.execCommand(n,!1,e),document.querySelectorAll(".mention").forEach(function(n){return n.setAttribute("contenteditable","false")})},x=function(){var n,e,t,r={isBold:!1,isItalic:!1,isUnderline:!1,foreColor:"",backColor:"",link:void 0};document.queryCommandState&&(r.isBold=document.queryCommandState("bold"),r.isItalic=document.queryCommandState("italic"),r.isUnderline=document.queryCommandState("underline")),document.queryCommandValue&&(r.foreColor=document.queryCommandValue("foreColor"),r.backColor=document.queryCommandValue("backColor"));var u=window.getSelection();return u&&(r.link=null===(t=u.anchorNode)||void 0===t?void 0:null===(e=t.parentElement)||void 0===e?void 0:null===(n=e.closest("a"))||void 0===n?void 0:n.href),r}},26390:function(n,e,t){t.d(e,{UU:function(){return p},tK:function(){return g},x8:function(){return v},xb:function(){return y}});var r=t(85333),u=t(6692),o=t(44822),i=t(10457),l=t(46152),a=t.n(l),d=t(75652),c=t.n(d),f=t(94699),s=t(75700),p=function(n){var e=[],t=[];return n.forEach(function(o){var l,a,d=o.type,c=o.groupUuid,f=o.groupType;i.$v.includes(d)?(t.push(c),e.push((0,u._)((0,r._)({},o),{payload:(0,u._)((0,r._)({},o.payload),{html:(0,i.Du)(o.payload.safeHTMLSchema,!0)})}))):f===i.kH.Dropdown||f===i.kH.MultiSelect?!1===t.includes(c)&&(t.push(c),e.push((0,u._)((0,r._)({},o),{uuid:o.groupUuid,type:o.groupType,payload:(0,u._)((0,r._)({},o.payload),{placeholder:o.payload.placeholder?(0,i.CL)(o.payload.placeholder):null,options:n.filter(function(n){return n.groupUuid===c}).map(function(n){var e,t,r;return{value:n.uuid,text:n.payload.text?(0,i.CL)(n.payload.text):"",image:null!==(e=n.payload.image)&&void 0!==e?e:null,color:null!==(t=n.payload.color)&&void 0!==t?t:(0,s.yj)(n.payload.index),isOtherOption:null!==(r=n.payload.isOtherOption)&&void 0!==r&&r}})})}))):([i.kH.MultipleChoice,i.kH.Checkboxes,i.kH.Ranking].includes(f)?(null==o?void 0:null===(l=o.payload)||void 0===l?void 0:l.text)&&(o.payload.text=(0,i.CL)(o.payload.text)):(null==o?void 0:null===(a=o.payload)||void 0===a?void 0:a.placeholder)&&(o.payload.placeholder=(0,i.CL)(o.payload.placeholder)),t.push(c),e.push(o))}),e},v=function(n){var e=[],t=[];return n.forEach(function(n){n.type!==i.kH.PageBreak?t.push(n):(e.push(t),t=[])}),t.length>0&&e.push(t),e},y=function(n){var e=c()(n.filter(function(n){var e=n.groupType,t=n.payload,r=n.type;return t.randomize&&i.FW.includes(e)||t.randomizeRows&&r===i.kH.MatrixRow}).map(function(n){return n.groupUuid})),t=(0,o._)(n);return e.forEach(function(e){var o=[],l=[];if(n.forEach(function(n,t){n.groupUuid===e&&n.type!==i.kH.Matrix&&n.type!==i.kH.MatrixColumn&&(o.push(n),l.push(t))}),0!==o.length){var d=[],c=(0,f.p)(o);if(c.length>0){var s=[],p=[];o.forEach(function(n,e){c.includes(n.uuid)&&(s.push(n),p.push(e))}),o=o.filter(function(n){return!c.includes(n.uuid)}),d=a()(o),p.forEach(function(n,e){d.splice(n,0,s[e])})}else d=a()(o);l.forEach(function(n,e){var o=t[n].payload,i=o.columnUuid,a=o.columnListUuid,c=o.columnRatio;t[n]=(0,u._)((0,r._)({},d[e]),{payload:(0,u._)((0,r._)({},d[e].payload),{index:e,isFirst:0===e,isLast:e===l.length-1})}),i&&(t[n].payload.columnUuid=i,t[n].payload.columnListUuid=a,t[n].payload.columnRatio=c)})}}),t},g=function(n,e){var t=c()(n.filter(function(n){return n.groupType===i.kH.Ranking}).map(function(n){return n.groupUuid}));if(0===t.length)return n;var l=(0,o._)(n);return t.forEach(function(t){if(!(0,i.xb)(e[t])){var o=[],a=[];n.forEach(function(n,e){n.groupUuid===t&&(o.push(n),a.push(e))}),a.forEach(function(n,i){var d=void 0,c=e[t][i];if(void 0!==c&&(d=o.find(function(n){return n.uuid===c}),o=o.filter(function(n){return n.uuid!==c})),d||(d=o.shift()),d){var f=l[n].payload,s=f.columnListUuid,p=f.columnUuid,v=f.columnRatio;l[n]=(0,u._)((0,r._)({},d),{payload:(0,u._)((0,r._)({},d.payload),{index:i,isFirst:0===i,isLast:i===a.length-1})}),p&&(l[n].payload.columnUuid=p,l[n].payload.columnListUuid=s,l[n].payload.columnRatio=v)}})}}),l}},2939:function(n,e,t){t.d(e,{d:function(){return f},l:function(){return c}});var r=t(87612),u=t(85333),o=t(6692),i=t(10457),l=t(72558),a=t(84209),d=t(2624),c=function(n,e,t){return((null==t?void 0:t.onlySpecificBlockUuids)?e.filter(function(n){var e;return null===(e=t.onlySpecificBlockUuids)||void 0===e?void 0:e.includes(n.uuid)}):e).filter(i.dt).forEach(function(t){var r=t.groupUuid;t.payload.calculatedFields.forEach(function(t){void 0!==t.value&&(void 0===n[r]&&(n[r]={}),n[r][t.uuid]=(0,a.Jc)(t.value,t.type,n,e))})}),n},f=function(n,e,t,f){if(0===f.filter(function(n){return n.type===i.kH.CalculatedFields}).length||(n=c(n,f),0===f.filter(function(n){return n.type===i.kH.ConditionalLogic}).length))return n;var s=!0,p=!1,v=void 0;try{for(var y,g=e[Symbol.iterator]();!(s=(y=g.next()).done);s=!0){var h=y.value,m=(null!==(U=t[h-1])&&void 0!==U?U:[]).filter(function(n){return[i.kH.CalculatedFields,i.kH.ConditionalLogic].includes(n.type)}),k=!0,b=!1,x=void 0;try{for(var U,B,S=m[Symbol.iterator]();!(k=(B=S.next()).done);k=!0){var w=B.value;if(w.type===i.kH.CalculatedFields&&(n=c(n,f,{onlySpecificBlockUuids:[w.uuid]})),(0,i.QE)(w)){var N=w.payload,C=N.logicalOperator,F=N.conditionals,M=N.actions;if((0,d.VX)(F,C,n,f)){var O=!0,A=!1,E=void 0;try{for(var T,H=M[Symbol.iterator]();!(O=(T=H.next()).done);O=!0){var _,R,L,I,D,q,Z=T.value;if(Z.type===i.wZ.Calculate&&(null===(R=Z.payload)||void 0===R?void 0:null===(_=R.calculate)||void 0===_?void 0:_.field)&&(null===(I=Z.payload)||void 0===I?void 0:null===(L=I.calculate)||void 0===L?void 0:L.operator)&&void 0!==(null===(q=Z.payload)||void 0===q?void 0:null===(D=q.calculate)||void 0===D?void 0:D.value)){var P=(0,a.zp)(n,Z.payload.calculate.field),G=(0,a.Jc)(Z.payload.calculate.value,Z.payload.calculate.field.calculatedFieldType,n,f);switch(Z.payload.calculate.field.calculatedFieldType===i.ot.Number&&(P=new l.O(P),G=new l.O(G)),Z.payload.calculate.operator){case i.K4.Addition:"object"==typeof P?P=P.plus(G):P+=G;break;case i.K4.Subtraction:P=P.minus(G);break;case i.K4.Multiplication:P=P.multipliedBy(G);break;case i.K4.Division:P=P.dividedBy(G);break;case i.K4.Assignment:P=G}Z.payload.calculate.field.calculatedFieldType===i.ot.Number&&(P=P.toNumber()),n=(0,o._)((0,u._)({},n),(0,r._)({},Z.payload.calculate.field.blockGroupUuid,(0,o._)((0,u._)({},n[Z.payload.calculate.field.blockGroupUuid]),(0,r._)({},Z.payload.calculate.field.uuid,P))))}}}catch(n){A=!0,E=n}finally{try{O||null==H.return||H.return()}finally{if(A)throw E}}}}}}catch(n){b=!0,x=n}finally{try{k||null==S.return||S.return()}finally{if(b)throw x}}}}catch(n){p=!0,v=n}finally{try{s||null==g.return||g.return()}finally{if(p)throw v}}return n}},84209:function(n,e,t){t.d(e,{Bv:function(){return A},C7:function(){return D},Ee:function(){return w},Jc:function(){return O},KN:function(){return T},Md:function(){return L},O6:function(){return R},Sz:function(){return K},Tp:function(){return P},X1:function(){return G},_j:function(){return V},bZ:function(){return I},bm:function(){return H},iM:function(){return C},lL:function(){return _},lo:function(){return M},mh:function(){return j},wm:function(){return Y},zj:function(){return E},zp:function(){return F}});var r=t(87612),u=t(85333),o=t(6692),i=t(10457),l=t(26680),a=t(62714),d=t(60425),c=t(46530),f=t(45393),s=t.n(f),p=t(82682),v=t(75437),y=t(6736),g=t(3124),h=t(65555),m=t(94699),k=t(5270),b=t(13048),x=t(26390),U=t(2939),B=t(2624),S=t(65278),w=function(n,e,t,r){if(void 0===e)return"";if(i.FW.includes(n))return N(n,e,t,null==r?void 0:r.fieldUuid);if(n===i.kH.InputDate){var u=(0,l.D)(e);return(0,a.J)(u)?(null==r?void 0:r.dateFormatProps)?(0,d.WU)(u,r.dateFormatProps.f,{locale:r.dateFormatProps.locale}):(0,d.WU)(u,"MMMM d, yyyy"):""}if(n===i.kH.InputNumber){var o,c,f,s,p=t.find(function(n){return n.groupUuid===(null==r?void 0:r.fieldUuid)});return(0,i.uf)(e,{decimalSeparator:null==p?void 0:null===(o=p.payload)||void 0===o?void 0:o.decimalSeparator,thousandsSeparator:null==p?void 0:null===(c=p.payload)||void 0===c?void 0:c.thousandsSeparator,prefix:null==p?void 0:null===(f=p.payload)||void 0===f?void 0:f.prefix,suffix:null==p?void 0:null===(s=p.payload)||void 0===s?void 0:s.suffix})}return n===i.kH.RespondentCountry&&(null==r?void 0:r.t)?(0,i.ox)(r.t)[e]||e||"--":e},N=function(n,e,t,r){if(!e)return"";if(n===i.kH.Checkboxes||n===i.kH.MultiSelect){var u=t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}),o=e.find(function(n){return!1===(0,y.K)(n)});return void 0!==o&&u.push(o),u.join(", ")}if(n===i.kH.Ranking)return e.map(function(n){var e,r;return null!==(r=null===(e=t.find(function(e){return e.uuid===n}))||void 0===e?void 0:e.payload.text)&&void 0!==r?r:""}).join(", ");if([i.kH.MultipleChoice,i.kH.Dropdown].includes(n)){if(Array.isArray(e)){var l,a,d=t.filter(function(n){return e.includes(n.uuid)}).map(function(n){return n.payload.text}),c=e.find(function(n){return!1===(0,y.K)(n)});return void 0!==c&&d.push(c),d.join(", ")}return"string"==typeof e&&!1===(0,y.K)(e)?e:null!==(a=null===(l=t.find(function(n){return n.uuid===e}))||void 0===l?void 0:l.payload.text)&&void 0!==a?a:""}if(n===i.kH.Matrix){var f=[];if(f=r?e[r]:e)return f.map(function(n){return(0,m.u)(n,t)}).join(", ")}return e},C=function(n,e,t,r){if("string"==typeof t){if(e===i.kH.Checkboxes||e===i.kH.Ranking||e===i.kH.MultiSelect){var u=r.filter(function(e){return e.groupUuid===n&&e.payload.text===t}).map(function(n){return n.uuid});return u.length>0?u:t.includes(",")?(t.split(/,\s?/).forEach(function(e){var t=r.find(function(t){return t.groupUuid===n&&t.payload.text===e});t&&u.push(t.uuid)}),u.length>0?u:void 0):void 0}if([i.kH.MultipleChoice,i.kH.Dropdown].includes(e)){var o,l=r.find(function(e){return e.groupUuid===n});if((null==l?void 0:l.payload.allowMultiple)&&t.includes(",")){var a=[];return t.split(/,\s?/).forEach(function(e){var t=r.find(function(t){return t.groupUuid===n&&t.payload.text===e});t&&a.push(t.uuid)}),a.length>0?a:void 0}var d=null===(o=r.find(function(e){return e.groupUuid===n&&e.payload.text===t}))||void 0===o?void 0:o.uuid;return d?[d]:void 0}}},F=function(n,e){return e.uuid===e.blockGroupUuid?n[e.uuid]:n[e.blockGroupUuid]?n[e.blockGroupUuid][e.uuid]:""},M=function(n,e,t){var r=F(n,e);return i.FW.includes(e.questionType)&&(r=N(e.questionType,r,t)),e.questionType===i.kH.RespondentCountry&&r&&(0,i.ox)(c.ZP.t)[r]||r},O=function(n,e,t,r){return(0,i.My)(n)&&(n=M(t,n,r)),e!==i.ot.Number||isNaN(parseFloat(n))||(n=parseFloat(n)),n},A=function(n,e,t){var r={},u=n.indexOf("?");new URLSearchParams(-1!==u?n.slice(u):"").forEach(function(n,e){r[e]=n});var o={},l=!0,a=!1,d=void 0;try{for(var c,f=e[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var s=c.value;if((0,i.Nb)(s)&&!o[s.groupUuid]&&t&&(o[s.groupUuid]=t),(0,i.rb)(s)){var p=!0,v=!1,y=void 0;try{for(var g,h=s.payload.hiddenFields[Symbol.iterator]();!(p=(g=h.next()).done);p=!0){var m=g.value;(null==m?void 0:m.name)&&void 0!==r[m.name]&&(o[s.groupUuid]||(o[s.groupUuid]={}),o[s.groupUuid][m.uuid]=r[m.name])}}catch(n){v=!0,y=n}finally{try{p||null==h.return||h.return()}finally{if(v)throw y}}}}}catch(n){a=!0,d=n}finally{try{l||null==f.return||f.return()}finally{if(a)throw d}}return o},E=function(n,e,t,l){var a=(0,U.d)(n,e,t,l),d=l.filter(function(n){return n.type===i.kH.CalculatedFields});return 0===d.length?{}:d.reduce(function(n,e){var t=a[e.groupUuid];return t?(0,o._)((0,u._)({},n),(0,r._)({},e.groupUuid,t)):n},{})},T=function(n,e){var t=i.mM.get("FORM_DATA_".concat(n));if(!t)return{};var r=JSON.parse(t),u=Object.keys(r),o=!0,l=!1,a=void 0;try{for(var d,c=u[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)!function(){var n=d.value,t=e.find(function(e){return e.groupUuid===n});if(t&&i.FW.includes(t.groupType)){var u=r[n];if(!(0,i.xb)(u)){var o=e.filter(function(e){return e.groupUuid===n});if(t.groupType===i.kH.Matrix){var l=function(e){if(!o.find(function(n){return n.uuid===e}))return delete r[n][e],"continue";var t=u[e],i=!0,l=!1,a=void 0;try{for(var d,c=t[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)!function(){var t=d.value;o.find(function(n){return n.uuid===t})||(r[n][e]=r[n][e].filter(function(n){return n!==t}))}()}catch(n){l=!0,a=n}finally{try{i||null==c.return||c.return()}finally{if(l)throw a}}};for(var a in u)l(a)}else if(Array.isArray(u)){var c=!0,f=!1,s=void 0;try{for(var p,v=u[Symbol.iterator]();!(c=(p=v.next()).done);c=!0)!function(){var e=p.value,t=o.find(function(n){return n.uuid===e});!t&&!1===(0,y.K)(e)&&o.length>0&&o[0].payload.hasOtherOption&&(t=o[0]),t||(r[n]=r[n].filter(function(n){return n!==e}))}()}catch(n){f=!0,s=n}finally{try{c||null==v.return||v.return()}finally{if(f)throw s}}}else{var g=o.find(function(n){return n.uuid===u});!g&&!1===(0,y.K)(u)&&o.length>0&&o[0].payload.hasOtherOption&&(g=o[0]),g||delete r[n]}}}}()}catch(n){l=!0,a=n}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}return r},H=function(n,e){i.mM.set("FORM_DATA_".concat(n),JSON.stringify(e))},_=function(n){i.mM.remove("FORM_DATA_".concat(n))},R=function(n){var e="FORM_SESSION_".concat(n),t=i.mM.get(e);if(t)return t;var r=(0,p.Z)();return i.mM.set(e,r),r},L=function(n){i.mM.remove("FORM_SESSION_".concat(n))},I=function(n){var e="RESPONDENT",t={},r=i.mM.get(e);return r&&(t=JSON.parse(r))&&t[n]||(t[n]=(0,p.Z)(),i.mM.set(e,JSON.stringify(t))),t[n]},D=function(n,e){var t=e.slice(0,n).reverse().filter(function(n){return n.type===i.kH.PageBreak})[0];return null!=t?t:e[0]},q=function(n){var e=[];return n.forEach(function(n){n.forEach(function(n){var t=n.payload;e.push((null==t?void 0:t.html)||(null==t?void 0:t.placeholder)||"")})}),/password|pa{0,3}s[s|\\*]{0,2}w[0|o|\\*]{0,3}r{0,1}d|pass\sword|pass\*{1,3}w[o]{0,1}rd|jelszó|пароль|kata[\s|-]{0,2}sandi|sandi anda|contrase[ñ|n][y]{0,1}a|senh[a|ä|á]|Passwort|wachtwoord|Passwört|Şifre|m[o|ö]t[s]{0,1} de passe/i.test(e.join(" "))},Z=function(n,e,t){var r=n.filter(function(n){return n.type===i.kH.ConditionalLogic});if(0===r.length)return!1;var u=!0,o=!1,l=void 0;try{for(var a,d=r[Symbol.iterator]();!(u=(a=d.next()).done);u=!0){var c=a.value.payload,f=c.logicalOperator,s=c.conditionals,p=c.actions,v=!0,y=!1,g=void 0;try{for(var h,m=p[Symbol.iterator]();!(v=(h=m.next()).done);v=!0)if(h.value.type===i.wZ.HideButtonToDisableCompletion&&(0,B.VX)(s,f,e,t))return!0}catch(n){y=!0,g=n}finally{try{v||null==m.return||m.return()}finally{if(y)throw g}}}}catch(n){o=!0,l=n}finally{try{u||null==d.return||d.return()}finally{if(o)throw l}}return!1},P=function(n,e,t,r,u,o){var l,a,d,c,f,s,p,v,y,m,k,b=null===(a=t[0])||void 0===a?void 0:null===(l=a.payload)||void 0===l?void 0:l.logo,U=null===(c=t[0])||void 0===c?void 0:null===(d=c.payload)||void 0===d?void 0:d.cover,S=null===(s=t[0])||void 0===s?void 0:null===(f=s.payload)||void 0===f?void 0:f.coverSettings,w=e.length,N=null!==(k=e[n-1])&&void 0!==k?k:[];N=(0,B.dp)(N,t,u,o),N=(0,x.tK)(N,u);var C=(0,B.KZ)(n,N,w,t,u),F=(0,i.O2)(n,t),M=!!(null==F?void 0:null===(p=F.payload)||void 0===p?void 0:p.isThankYouPage),O=C?(0,i.O2)(C,t):void 0,A=null===C||(null==O?void 0:null===(v=O.payload)||void 0===v?void 0:v.isThankYouPage),E=!M&&!Z(N,u,t),T=Array.from((0,h.jZ)(N).values()).filter(function(n){return!1===[i.kH.HiddenFields,i.kH.CalculatedFields].includes(n.type)}),H=!!(null==r?void 0:r.pageAutoJump)&&E&&!A&&1===T.length&&(0,g.SL)(T[0],N),_=T.every(function(n){return void 0!==u[n.blockGroupUuid]&&!1===(0,i.xb)(u[n.blockGroupUuid])});return{logo:b,cover:U,coverSettings:S,pageBlocks:N,pageQuestions:T,nextPage:C,isCustomThankYouPage:M,isLastInputPage:A,canAutoJumpToNextPage:H,pageFilledIn:_,showSubmitButton:E,showBackButton:!M&&1!==n,buttonLabel:null==F?void 0:null===(m=F.payload)||void 0===m?void 0:null===(y=m.button)||void 0===y?void 0:y.label,showMaliciousFormWarning:q(e)}},G=function(n,e,t,r,u,o){try{var i=[],l=(0,b.VN)((0,x.UU)(u)),a=!0,d=!1,c=void 0;try{for(var f,s=l[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var p=f.value,y=p.uuid,g=p.title,h=p.questionType;i.push({id:y,title:g,type:h,answer:{value:M(o,p,u),raw:F(o,p)}})}}catch(n){d=!0,c=n}finally{try{a||null==s.return||s.return()}finally{if(d)throw c}}return{id:n,formId:t,formName:r,respondentId:e,createdAt:new Date,fields:i}}catch(n){return(0,v.Tb)(n),{}}},K=function(){setTimeout(function(){var n,e,t=null===(n=document.forms[0])||void 0===n?void 0:n.elements[0];t&&(0,k.PZ)(t)&&("INPUT"===t.tagName&&!1===["radio","checkbox"].includes(null!==(e=t.getAttribute("type"))&&void 0!==e?e:"")||"TEXTAREA"===t.tagName)&&t.focus()},100)},j=function(){setTimeout(function(){var n=document.querySelector(".tally-validation-error");if(n){var e=n.closest(".tally-block"),t=null==e?void 0:e.querySelector('[aria-invalid="true"]');if(t){t.focus(),!1===(0,k.PZ)(t)&&t.scrollIntoView({behavior:"smooth",block:"center"}),(0,k.G6)()&&(0,k.TZ)({event:S.I.TallyFormHightlightFirstError,payload:{offset:t.getBoundingClientRect().top}});return}!1===(0,k.PZ)(n)&&n.scrollIntoView({behavior:"smooth",block:"center"}),(0,k.G6)()&&(0,k.TZ)({event:S.I.TallyFormHightlightFirstError,payload:{offset:n.getBoundingClientRect().top}})}},100)},Y=function(){return s()("ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz123456789".split(""),6).join("")},V=function(n,e,t,r){var u={},o=!0,l=!1,a=void 0;try{for(var d,c=n[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)!function(){var n=d.value;if(n<t)return u[n]=100;if(n>t)return u[n]=0;var o=[],l=!0,a=!1,c=void 0;try{for(var f,s=r[Symbol.iterator]();!(l=(f=s.next()).done);l=!0){var p=f.value,v=p.type,y=p.groupUuid,g=p.payload;!1===i.z8.includes(v)||[i.kH.HiddenFields,i.kH.CalculatedFields].includes(v)||!g.isRequired||o.includes(y)||o.push(y)}}catch(n){a=!0,c=n}finally{try{l||null==s.return||s.return()}finally{if(a)throw c}}if(0===o.length)return u[n]=t<n?0:100;var h=o.length,m=0;o.forEach(function(n){!(0,i.xb)(e[n])&&m++}),u[n]=t<n?0:m/h*100}()}catch(n){l=!0,a=n}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}return u}},2624:function(n,e,t){t.d(e,{Ai:function(){return k},KZ:function(){return m},VX:function(){return g},dp:function(){return h}});var r=t(87612),u=t(85333),o=t(6692),i=t(44822),l=t(10457),a=t(89166),d=t.n(a),c=t(18149),f=t.n(c),s=t(75437),p=t(6736),v=t(84209),y=function(n,e,t){var r=n.type,u=n.payload;if(r===l.Rp.Group&&(null==u?void 0:u.conditionals)&&u.logicalOperator)return g(u.conditionals,u.logicalOperator,e,t);if(r===l.Rp.Single&&(null==u?void 0:u.field)&&(null==u?void 0:u.comparison)){var o=u.field,i=u.comparison,a=u.value,c=(0,v.zp)(e,o);(0,l.My)(a)&&(a=(0,v.zp)(e,a));try{switch(i){case l.F2.Is:if(o.questionType===l.kH.Matrix)return Array.isArray(a)||(a=[a]),void 0!==c&&f()(c,a);if(Array.isArray(a)&&1===a.length&&(a=a[0]),Array.isArray(c))return 1===c.length&&b(c[0],a,t);return void 0!==c&&b(c,a,t);case l.F2.IsNot:if(o.questionType===l.kH.Matrix)return Array.isArray(a)||(a=[a]),void 0!==c&&!f()(c,a);if(Array.isArray(a)&&1===a.length&&(a=a[0]),Array.isArray(c))return 1!==c.length||!1===b(c[0],a,t);return void 0!==c&&!1===b(c,a,t);case l.F2.IsAnyOf:if(!Array.isArray(a)||!Array.isArray(c))return b(c,a,t);return a.some(function(n){return c.some(function(e){return b(e,n,t)})});case l.F2.IsEveryOf:if(!Array.isArray(a)||!Array.isArray(c))return b(c,a,t);return a.every(function(n){return c.some(function(e){return b(e,n,t)})});case l.F2.Contains:if(Array.isArray(c))return void 0!==a&&c.some(function(n){return b(n,a,t)});return void 0!==c&&void 0!==a&&RegExp(d()(a),"i").test(c);case l.F2.DoesNotContain:if(Array.isArray(c))return void 0!==a&&!1===c.some(function(n){return b(n,a,t)});return void 0!==c&&void 0!==a&&!1===RegExp(d()(a),"i").test(c);case l.F2.StartsWith:return void 0!==c&&void 0!==a&&RegExp("^".concat(d()(a)),"i").test(c);case l.F2.DoesNotStartWith:return void 0!==c&&void 0!==a&&!1===RegExp("^".concat(d()(a)),"i").test(c);case l.F2.EndsWith:return void 0!==c&&void 0!==a&&RegExp("".concat(d()(a),"$"),"i").test(c);case l.F2.DoesNotEndWith:return void 0!==c&&void 0!==a&&!1===RegExp("".concat(d()(a),"$"),"i").test(c);case l.F2.IsEmpty:if(Array.isArray(c))return 0===c.length;return void 0===c||""===c;case l.F2.IsNotEmpty:if(Array.isArray(c))return c.length>0;return void 0!==c&&""!==c;case l.F2.Equal:return Number(c)===Number(a);case l.F2.NotEqual:return Number(c)!==Number(a);case l.F2.GreaterThan:return Number(c)>Number(a);case l.F2.LessThan:return Number(c)<Number(a);case l.F2.GreaterOrEqualThan:return Number(c)>=Number(a);case l.F2.LessOrEqualThan:return Number(c)<=Number(a);case l.F2.IsBefore:if(/^[0-9]{2}:[0-9]{2}$/.test(c))return Date.parse("01/01/2000 ".concat(c))<Date.parse("01/01/2000 ".concat(a));return Date.parse(c)<Date.parse(a);case l.F2.IsAfter:if(/^[0-9]{2}:[0-9]{2}$/.test(c))return Date.parse("01/01/2000 ".concat(c))>Date.parse("01/01/2000 ".concat(a));return Date.parse(c)>Date.parse(a)}}catch(n){(0,s.Tb)(n)}}return!1},g=function(n,e,t,r){var u=n.map(function(n){return y(n,t,r)});return e===l.SK.And&&u.every(function(n){return n})||e===l.SK.Or&&u.some(function(n){return n})},h=function(n,e,t,a){var d=e.filter(function(n){return n.type===l.kH.ConditionalLogic}),c=e.filter(function(n){return n.payload.isHidden}).map(function(n){return n.uuid});if(0===d.length&&0===c.length)return n;var f=(0,i._)(n),s=!0,p=!1,v=void 0;try{for(var y,h=d[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var m=y.value.payload,k=m.logicalOperator,b=m.conditionals,x=m.actions;if(g(b,k,t,e)){var U=!0,B=!1,S=void 0;try{for(var w,N=x[Symbol.iterator]();!(U=(w=N.next()).done);U=!0)!function(){var n,e,t,r=w.value;r.type===l.wZ.ShowBlocks&&(null===(n=r.payload)||void 0===n?void 0:n.showBlocks)&&(c=c.filter(function(n){var e,t;return(null===(t=r.payload)||void 0===t?void 0:null===(e=t.showBlocks)||void 0===e?void 0:e.includes(n))===!1})),r.type===l.wZ.HideBlocks&&Array.isArray(null===(e=r.payload)||void 0===e?void 0:e.hideBlocks)&&(c=(0,i._)(c).concat((0,i._)(r.payload.hideBlocks))),r.type===l.wZ.RequireAnswer&&(null===(t=r.payload)||void 0===t?void 0:t.requireAnswer)&&(f=f.map(function(n){var e,t;return(null===(t=r.payload)||void 0===t?void 0:null===(e=t.requireAnswer)||void 0===e?void 0:e.includes(n.groupUuid))?(0,o._)((0,u._)({},n),{payload:(0,o._)((0,u._)({},n.payload),{isRequired:!0})}):n}))}()}catch(n){B=!0,S=n}finally{try{U||null==N.return||N.return()}finally{if(B)throw S}}}}}catch(n){p=!0,v=n}finally{try{s||null==h.return||h.return()}finally{if(p)throw v}}if(c.length>0){f=f.filter(function(n){return!1===c.includes(n.uuid)});var C=[];if(e.forEach(function(n){var e=n.uuid,d=n.type,s=n.groupUuid,p=n.groupType,v=n.payload;if(!(!1===c.includes(e)||l.TI.includes(d))){if(l.FW.includes(p)&&C.push(s),void 0!==t[s]&&!(v.hasDefaultAnswer&&void 0!==v.defaultAnswer)&&!l.W_.includes(d)){if(d===l.kH.Checkbox||d===l.kH.RankingOption||d===l.kH.MultiSelectOption){if(Array.isArray(t[s])&&t[s].includes(e)){var y=(0,i._)(t[s]);y.splice(y.indexOf(e),1),null==a||a((0,r._)({},s,y))}}else if([l.kH.DropdownOption,l.kH.MultipleChoiceOption].includes(d)){if(Array.isArray(t[s])&&t[s].includes(e)){var g=(0,i._)(t[s]);g.splice(g.indexOf(e),1),null==a||a((0,r._)({},s,g))}else t[s]===e&&(null==a||a((0,r._)({},s,void 0)))}else d!==l.kH.Payment&&(null==a||a((0,r._)({},s,void 0)))}if(d===l.kH.MatrixRow&&void 0!==t[s]&&t[s][e]&&(null==a||a((0,r._)({},s,(0,o._)((0,u._)({},t[s]),(0,r._)({},e,void 0))))),d===l.kH.MatrixColumn&&void 0!==t[s]){var h=Object.keys(t[s]);if(h.length>0){var m=(0,u._)({},t[s]),k=!1;h.forEach(function(n){m[n]&&m[n].includes(e)&&(m[n].splice(m[n].indexOf(e),1),k=!0)}),k&&(null==a||a((0,r._)({},s,m)))}}(d===l.kH.MatrixRow||d===l.kH.MatrixColumn)&&f.filter(function(n){return n.groupUuid===s&&n.type!==l.kH.Matrix}).every(function(n){return c.includes(n.uuid)})&&(f=f.filter(function(n){return n.groupUuid!==s}))}}),C.length>0){var F=new Map;f=f.map(function(n){if(C.includes(n.groupUuid)&&(n.type===l.kH.Dropdown||n.type===l.kH.MultiSelect))return(0,o._)((0,u._)({},n),{payload:(0,o._)((0,u._)({},n.payload),{options:n.payload.options.filter(function(n){var e=n.value;return!1===c.includes(e)})})});if(C.includes(n.groupUuid)&&[l.kH.MultipleChoiceOption,l.kH.Checkbox,l.kH.RankingOption].includes(n.type)){F.get(n.groupUuid)||F.set(n.groupUuid,{firstBlockUuid:f.find(function(e){return e.groupUuid===n.groupUuid}).uuid,lastBlockUuid:(0,i._)(f).reverse().find(function(e){return e.groupUuid===n.groupUuid}).uuid});var e=F.get(n.groupUuid),t=e.firstBlockUuid,r=e.lastBlockUuid;return(0,o._)((0,u._)({},n),{payload:(0,o._)((0,u._)({},n.payload),{isFirst:t===n.uuid,isLast:r===n.uuid})})}return n}).filter(function(n){return!((n.type===l.kH.Dropdown||n.type===l.kH.MultiSelect)&&0===n.payload.options.length)})}}return f},m=function(n,e,t,r,u){var o=n+1,i=e.filter(function(n){return n.type===l.kH.ConditionalLogic});if(0===i.length)return o&&o<=t?o:null;var a=!0,d=!1,c=void 0;try{for(var f,s=i[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var p=f.value.payload,v=p.logicalOperator,y=p.conditionals,h=p.actions;if(g(y,v,u,r)){var m=!0,k=!1,b=void 0;try{for(var x,U=h[Symbol.iterator]();!(m=(x=U.next()).done);m=!0){var B,S,w,N,C=x.value;C.type===l.wZ.JumpToPage&&void 0!==(null===(B=C.payload)||void 0===B?void 0:B.jumpToPage)&&(o=(null===(w=C.payload)||void 0===w?void 0:null===(S=w.jumpToPage)||void 0===S?void 0:S.toString())==="0"?null:"number"==typeof(null===(N=C.payload)||void 0===N?void 0:N.jumpToPage)?C.payload.jumpToPage:(0,l.cC)(C.payload.jumpToPage,r))}}catch(n){k=!0,b=n}finally{try{m||null==U.return||U.return()}finally{if(k)throw b}}}}}catch(n){d=!0,c=n}finally{try{a||null==s.return||s.return()}finally{if(d)throw c}}return o&&o<=t?o:null},k=function(n,e,t){for(var r=[1],u=e.length,o=1;null!==o;){var i,a=o,d=e[a-1];if(o=m(a,d,u,n,t),a===o){o=null;continue}if(null!==o){if(r.includes(o)){o=null;continue}var c=(0,l.O2)(o,n);if(null==c?void 0:null===(i=c.payload)||void 0===i?void 0:i.isThankYouPage){o=null;continue}r.push(o)}}return r},b=function(n,e,t){var r=n===e;if(!1===r&&"string"==typeof n&&"string"==typeof e&&!1===(0,p.K)(n)&&!0===(0,p.K)(e)){var u,o=t.find(function(n){return n.uuid===e});(null==o?void 0:null===(u=o.payload)||void 0===u?void 0:u.isOtherOption)&&(r=!0)}return r}}}]);
//# sourceMappingURL=3417-44a161d88faadb32.js.map