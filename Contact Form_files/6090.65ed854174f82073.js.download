!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c19215d1-d8e6-4857-8ebe-3ec4fedf6509",e._sentryDebugIdIdentifier="sentry-dbid-c19215d1-d8e6-4857-8ebe-3ec4fedf6509")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6090,6387],{76090:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r,o,i=t(52322),u=t(69193),l=t(85333),c=t(6692),a=t(26969),s=t(44822),d=t(43460),f=t(2784),h=t(21849),v=t(52829),g=t(47024),p=t(39704),y=t(56353),C=t(5270),S=t(56387),m=t(93885),M=t(47445),b=t(55161),N=t(35505),x=N.ZP.div.withConfig({componentId:"sc-f0f9041f-0"})(["position:absolute;top:0;padding:0 6px;display:flex;align-items:center;justify-content:flex-end;height:100%;cursor:pointer;border:0;border-radius:5px;"," "," > svg{"," pointer-events:none;color:",";}> div{font-size:13px;color:",";}@media (hover:hover){&:hover{> div{color:",";}}}"],function(e){var n=e.theme;return(0,b.vA)("right","0",n.direction)},function(e){return"rtl"===e.theme.direction&&"flex-direction: row-reverse;"},function(e){var n=e.theme;return(0,b.vA)("margin-left","6px",n.direction)},function(e){return e.theme.color.textGrayscale3},function(e){return e.theme.color.textGrayscale2},function(e){return e.theme.color.textGrayscale1}),k=N.ZP.div.withConfig({componentId:"sc-f0f9041f-1"})(["position:relative;direction:ltr;.tally-context-menu{width:100%;max-height:400px;}"," ",""],function(e){var n=e.theme;return!1===e.hasCountryCode&&"\n    input {\n      ".concat((0,b.vA)("padding-right","82px",n.direction),";\n      ").concat("rtl"===n.direction&&"text-align: right;",";\n    }\n\n    ").concat(x," {\n      background-color: transparent;\n    }\n  ")},function(e){var n=e.hasCountryCode,t=e.theme;return!0===n&&"\n    input {\n      ".concat((0,b.vA)("padding-right","50px",t.direction),";\n      ").concat("rtl"===t.direction&&"text-align: right;",";\n    }\n  ")}),A=N.ZP.div.withConfig({componentId:"sc-f0f9041f-2"})(["position:absolute;top:0;pointer-events:none;background-color:transparent;display:flex;align-items:center;width:100%;height:100%;padding:0 ",";color:",";span:nth-child(1){color:transparent;}span:nth-child(2){font-size:19px;}",""],function(e){return e.theme.spacing.sm},function(e){return e.theme.color.inputPlaceholder},function(e){return"rtl"===e.theme.direction&&"display: none;"}),w=N.ZP.div.withConfig({componentId:"sc-f0f9041f-3"})(["color:",";padding-left:",";"],function(e){return e.theme.color.textGrayscale2},function(e){return e.theme.spacing.sm});(r=o||(o={})).Manual="MANUAL",r.Auto="AUTO";var G=function(e){var n,t=e.defaultValue,r=e.defaultCountryCode,o=e.inputProps,b=e.onChange,N=(0,v.$)().t,G=(0,f.useRef)(null),I=(0,a._)((0,f.useState)(null!=t?t:""),2),T=I[0],O=I[1],P=(0,a._)((0,f.useState)(t?(0,S.formatPhoneNumber)(t):""),2),B=P[0],R=P[1],E=(0,a._)((0,f.useState)(null!=r?r:null),2),U=E[0],D=E[1],j=(0,a._)((0,f.useState)({showMask:!1,showSelectButton:!!t,selectTrigger:null}),2),Y=j[0],_=j[1],F=(0,f.useRef)(!0),L=(0,f.useRef)(!0),Z=(0,f.useRef)(""),K=(0,f.useRef)(!1),Q=(0,f.useRef)(null),V=function(){var e=(null==o?void 0:o.id)?(0,M.US)(o.id,t,r):null;if(e)return D(e),e;if(!t)return D(null!=r?r:null),null!=r?r:null;var n=(0,m.$I)(t);return D(n),n},W=(0,p.F)(),H=(0,f.useMemo)(function(){var e=[];for(var n in W)e.push({code:n,country:W[n],callingCode:m.YQ[n]});return e.sort(function(e,n){return e.country.localeCompare(n.country)})},[W]),J=function(e){if(""===e||"+"===e)return[];var n=H.filter(function(n){return n.callingCode.startsWith(e)}).sort(function(e,n){return e.callingCode>n.callingCode?1:-1});return(0,m.aP)(n,e)},q=function(e){if(""===e||"+"===e)return[];var n=(0,m.OY)(T);if(0===n.length)return[];var t=H.filter(function(e){return n.includes(e.code)}).sort(function(e,n){return e.callingCode>n.callingCode?1:-1});return(0,m.aP)(t,e)},z=(0,f.useMemo)(function(){var e=[],n=[],t=[],r=J(T);if(n=r,0===r.length||"MANUAL"===Y.selectTrigger){var o=[];0===r.length&&(o=q(T)),n=(0,s._)(r).concat((0,s._)(o)),t=H.filter(function(e){return!(0,s._)(r.map(function(e){return e.code})).concat((0,s._)(o.map(function(e){return e.code}))).includes(e.code)})}return n.length>0&&e.push({options:n}),t.length>0&&e.push({options:t}),e},[T,Y]),X=function(e){return e&&m.YQ[e]?m.YQ[e]:"+"},$=function(e){0!==Object.keys(e).length&&_((0,l._)({},Y,e))},ee=function(e,n,t){if(K.current=!1,""!==e&&!1===e.startsWith("+")&&e.length>1){if(U){var r,i=m.YQ[U];i&&(e=e.startsWith(i.substring(1))?"+".concat(e):"".concat(null!==(r=m.YQ[U])&&void 0!==r?r:"").concat(e))}else K.current=!0}/[٠-٩]/.test(e)&&(e=e.replace(/[٠-٩]/g,function(e){return"٠١٢٣٤٥٦٧٨٩".indexOf(e).toString()}));var u=(0,m.$I)(e);u?!n&&u?(D(u),n=u):n&&u&&n!==u&&m.YQ[n]!==m.YQ[u]?(D(u),n=u):n!==U&&D(n):(D(null),n=null);var l=(0,S.formatPhoneNumber)(e,n);if(t){var c=t.selectionStart||0,a=null;e!==l&&e.length!==c&&(0===c?a=1:e.slice(0,c)===l.slice(0,c)?a="Delete"===Z.current&&isNaN(parseFloat(l.charAt(c)))?c+1:c:e.charAt(c-1)!==l.charAt(c-1)&&(isNaN(parseFloat(Z.current))?a=c:isNaN(parseFloat(l.charAt(c-1)))&&(a=c+1))),null!==a&&window.requestAnimationFrame(function(){t.selectionStart=a,t.selectionEnd=a})}e=(0,S.getPhoneNumber)(l),R(l),O(e),b(e),(null==o?void 0:o.id)&&(0,M.R1)(o.id,e,n);var s=J(e);!eo&&n&&s.length>1&&(el(!0),$({selectTrigger:"AUTO"})),eo&&"AUTO"===Y.selectTrigger&&(!n||0===s.length)&&el(!1)},en=function(e){var n;m.YQ[e]&&(K.current?(ee("".concat(m.YQ[e]).concat(T.replace("+","")),e),K.current=!1):U&&m.YQ[U]&&T.length>m.YQ[e].length?ee(T.replace(m.YQ[U],m.YQ[e]),e):!U&&T.length>m.YQ[e].length?ee("".concat(m.YQ[e]).concat(T.replace("+","")),e):ee(m.YQ[e],e),el(!1),null===(n=G.current)||void 0===n||n.focus())};(0,f.useEffect)(function(){var e=null;F.current&&(F.current=!1,e=V(),t&&e&&$({showSelectButton:!0})),t!==T&&(O(null!=t?t:""),R(t?(0,S.formatPhoneNumber)(t):""),e=V()),t&&e&&!Y.showSelectButton&&$({showSelectButton:!0})},[t]);var et=(n=[]).concat.apply(n,(0,s._)(z.map(function(e){return e.options}))),er=(0,y.X)({optionsSize:et.length-1,onSelection:function(e){en(et[e].code)}}),eo=er.isSelectOpen,ei=er.onKeyDown,eu=er.selectedIndex,el=er.toggleSelectionMenu;return(0,f.useEffect)(function(){if(null!==eu){var e;(0,C.Ol)(null===(e=Q.current)||void 0===e?void 0:e.parentElement,et[eu].code)}},[eu]),(0,i.jsxs)(k,{hasCountryCode:!!U,children:[(0,i.jsx)(u.Z,(0,c._)((0,l._)({},o),{ref:G,type:"tel",value:B,onFocus:function(){var e=null;L.current&&(L.current=!1,e=V()),eo||(Y.showMask||$({showMask:!0,showSelectButton:!0}),""===B&&setTimeout(function(){return R(X(null!=e?e:U))},10))},onBlur:function(){if(!eo){var e={};Y.showMask&&(e.showMask=!1),("+"===B||B===X(U))&&(R(""),""!==T&&(O(""),b("")),e.showSelectButton=!1),$(e)}},onKeyDown:ei,onChange:function(e){return ee(e.target.value,U,e.target)}})),Y.showMask&&(0,i.jsxs)(A,{children:[(0,i.jsx)("span",{children:B}),(0,i.jsx)("span",{children:(0,S.getRemainingMaskForPhoneNumber)(B,U)})]}),Y.showSelectButton&&(0,i.jsxs)(x,{onMouseDown:function(e){return e.preventDefault()},onClick:function(){el(!0),$({selectTrigger:"MANUAL"})},children:[U?(0,i.jsx)(h.Z,{country:(0,m.lY)(U),size:16}):(0,i.jsx)("div",{children:N("label.country")}),(0,i.jsx)(d.Z,{size:16})]}),eo&&(0,i.jsx)(g.ZP,{position:{top:40,left:0,bottom:40,right:0},width:"auto",onClose:function(){var e;el(!1),null===(e=G.current)||void 0===e||e.focus()},children:(0,i.jsx)(g.aV,{ref:Q,withSectionDivider:!0,children:z.map(function(e,n){var t=e.options;return(0,i.jsx)(g.$0,{children:t.map(function(e){var n=e.code,t=e.callingCode,r=e.country,o=["list-item"];return null!==eu&&n===et[eu].code&&o.push("selected"),(0,i.jsx)(g.ck,{id:n,className:o.join(" "),label:r,actionContent:(0,i.jsx)(w,{children:t}),onClick:function(){return en(n)}},n)})},"group_".concat(n))})})})]})},I=t(87073),T=t(5561),O=function(e){var n,t,r=e.value,o=void 0===r?"":r,l=e.placeholder,c=void 0===l?"":l,a=e.isRequired,s=e.internationalFormat,d=e.defaultCountryCode,f=e.error,h=e.question,v=e.language,g=e.onChange,p=e.renderRequiredIndicator,y=f?"error_".concat(null==h?void 0:h.blockGroupUuid):void 0;return s?(0,i.jsx)(T.W,{children:(0,i.jsxs)(T.V,{children:[(0,i.jsx)(G,{defaultValue:o,defaultCountryCode:d,language:v,inputProps:{id:null==h?void 0:h.blockGroupUuid,placeholder:c,required:a,autoComplete:"tel","aria-label":null!==(t=null==h?void 0:h.title)&&void 0!==t?t:void 0,"aria-required":a?"true":"false","aria-invalid":f?"true":"false","aria-describedby":y},onChange:function(e){return null==g?void 0:g(e)}}),p&&p(),f&&(0,i.jsx)(I.Z,{id:y,error:f})]})}):(0,i.jsx)(T.W,{children:(0,i.jsxs)(T.V,{children:[(0,i.jsx)(u.Z,{id:null==h?void 0:h.blockGroupUuid,type:"tel",value:o,placeholder:c,required:a,autoComplete:"tel","aria-label":null!==(n=null==h?void 0:h.title)&&void 0!==n?n:void 0,"aria-required":a?"true":"false","aria-invalid":f?"true":"false","aria-describedby":y,onChange:function(e){return null==g?void 0:g(e.target.value)}}),p&&p(),f&&(0,i.jsx)(I.Z,{id:y,error:f})]})})}},39704:function(e,n,t){t.d(n,{F:function(){return u}});var r=t(10457),o=t(2784),i=t(52829),u=function(){var e=(0,i.$)().t;return(0,o.useMemo)(function(){return(0,r.ox)(e)},[e("json.countries")])}},56353:function(e,n,t){t.d(n,{X:function(){return u}});var r=t(85333),o=t(26969),i=t(2784),u=function(e){var n=e.optionsSize,t=e.onSelection,u=(0,i.useRef)(""),l=(0,o._)((0,i.useState)({isSelectOpen:!1,selectedIndex:null}),2),c=l[0],a=l[1],s=c.isSelectOpen,d=c.selectedIndex,f=function(){null!==d&&(t(d),h({isSelectOpen:!1}))},h=function(e){0!==Object.keys(e).length&&(void 0===e.isSelectOpen||e.isSelectOpen||(e.selectedIndex=null),a((0,r._)({},c,e)))};return{toggleSelectionMenu:function(e){h({isSelectOpen:e})},onKeyDown:function(e){if(u.current=e.key,s&&"Tab"===e.key){h({isSelectOpen:!1});return}if(s)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault();var t=null!=d?d:-1;"ArrowDown"===e.key?++t>n&&(t=0):"ArrowUp"===e.key&&--t<0&&(t=n),h({selectedIndex:t});break;case"Enter":e.preventDefault(),f();break;case" ":d&&(e.preventDefault(),f());break;case"Backspace":case"Delete":d&&h({selectedIndex:null})}},isSelectOpen:s,selectedIndex:d}}},56387:function(e,n,t){t.r(n),t.d(n,{formatPhoneNumber:function(){return l},getMaskForPhoneNumber:function(){return i},getPhoneNumber:function(){return c},getRemainingMaskForPhoneNumber:function(){return u},isPhoneNumberValid:function(){return a}});var r=t(85410),o=t(93885),i=function(e,n){var t=(e.length<3?"+## ### ## ## ##":"+### ## ### ###").replace(/#/g,"_");if(n||(n=(0,o.$I)(e)),n)try{var i=(0,r.SR)(e,{regionCode:n}).type;i&&"unknown"!==i||(i="mobile"),t=(0,r.W7)(n,i).number.international.replace(/[0-9]/g,"_")}catch(e){}return n?t:"+###".replace(/#/g,"_")},u=function(e,n){return i(e,n).substring(e.length)},l=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=i(e,n),r=e.replace(/[^0-9]/g,""),o="",u=0,l=0;l<t.length;l++)if("_"===t[l]){if(o+=r[u]||"",++u>=r.length)break}else o+=t[l];return u<r.length&&(o+=r.substring(u)),o},c=function(e){var n=e.replace(/[^0-9]/g,"");if(0===n.length)return"";var t="+".concat(n),i=(0,o.$I)(e);if(!i)return t;try{var u,l,c=(0,r.SR)(e,{regionCode:i});return null!==(l=null===(u=c.number)||void 0===u?void 0:u.e164)&&void 0!==l?l:t}catch(e){return t}},a=function(e){if(0===e.replace(/[^0-9]/g,"").length)return!1;var n=(0,o.OY)(e);if(0===n.length)return!1;var t=!1;try{var i=!0,u=!1,l=void 0;try{for(var c,a=n[Symbol.iterator]();!(i=(c=a.next()).done);i=!0){var s=c.value;if((0,r.SR)(e,{regionCode:s}).valid){t=!0;break}}}catch(e){u=!0,l=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw l}}}catch(e){}return t}},47445:function(e,n,t){t.d(n,{LI:function(){return l},R1:function(){return i},US:function(){return u}});var r=t(10457),o="PHONE_NUMBER_INPUT",i=function(e,n,t){try{var i={},u=r.mM.get(o);u&&(i=JSON.parse(u)),i.keys||(i.keys={}),i.lastCountryCode=t||i.lastCountryCode||null,n||t?i.keys[e]={value:n,countryCode:t}:delete i.keys[e],localStorage.setItem(o,JSON.stringify(i))}catch(e){}},u=function(e,n,t){try{var i={},u=r.mM.get(o);if(u){if(i=JSON.parse(u),!n&&!t&&i.lastCountryCode)return i.lastCountryCode;if(i.keys&&i.keys[e]&&n===i.keys[e].value&&i.keys[e].countryCode)return i.keys[e].countryCode}}catch(e){}return null},l=function(e){try{var n=r.mM.get(o);if(!n)return;var t=JSON.parse(n);if(!t.keys)return;var i=!1,u=!0,l=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(u=(a=s.next()).done);u=!0){var d=a.value;t.keys[d]&&(delete t.keys[d],i=!0)}}catch(e){l=!0,c=e}finally{try{u||null==s.return||s.return()}finally{if(l)throw c}}0===Object.keys(t.keys).length&&(delete t.keys,i=!0),i&&localStorage.setItem(o,JSON.stringify(t))}catch(e){}}},43460:function(e,n,t){t.d(n,{Z:function(){return r}});var r=(0,t(62244).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},21849:function(e,n,t){var r=t(2784),o=["AD","AE","AF","AG","AI","AL","AM","AO","AR","AS","AT","AU","AW","AX","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LGBT","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW","EU","GB-ENG","GB-NIR","GB-SCT","GB-WLS","GB-ZET","US-CA"];n.Z=function(e){var n=e.country,t=void 0===n?"US":n,i=e.role,u=e.size,l=void 0===u?24:u,c=e.alt,a=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n.indexOf(t=i[r])>=0||(o[t]=e[t]);return o}(e,["country","role","size","alt"]);if(t){var s=t.toUpperCase();return void 0!==o.find(function(e){return e===t})?r.createElement("img",Object.assign({src:"https://cdn.jsdelivr.net/gh/madebybowtie/FlagKit@2.2/Assets/SVG/"+s+".svg",role:void 0===i?"img":i,alt:null!=c?c:s+" Flag",height:l,width:l},a)):r.createElement("span",null,s)}return null}}}]);
//# sourceMappingURL=6090.65ed854174f82073.js.map